<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="chrome=1"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><meta name=author content="niceRAM"><meta name=description content="niceRAM's Blog"><link rel=prev href=https://niceram.xyz/2021/03/22/20210322_1451/><link rel=next href=https://niceram.xyz/2021/04/15/20210415_2157/><link rel=canonical href=https://niceram.xyz/2021/03/25/20210325_1319/><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#da532c"><meta name=theme-color content="#ffffff"><title>ä½¿ç”¨ GitHub Actions è‡ªåŠ¨æ„å»ºÂ·éƒ¨ç½²é™æ€ç½‘ç«™åˆ° GitHub Pages | NiceBlog</title><meta name=title content="ä½¿ç”¨ GitHub Actions è‡ªåŠ¨æ„å»ºÂ·éƒ¨ç½²é™æ€ç½‘ç«™åˆ° GitHub Pages | NiceBlog"><link rel=stylesheet href=/css/main.min.css><link rel=stylesheet href=/font/iconfont.css><link rel=stylesheet href=/font-ali/iconfont.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/niceram.xyz\/"},"articleSection":"posts","name":"ä½¿ç”¨ GitHub Actions è‡ªåŠ¨æ„å»ºÂ·éƒ¨ç½²é™æ€ç½‘ç«™åˆ° GitHub Pages","headline":"ä½¿ç”¨ GitHub Actions è‡ªåŠ¨æ„å»ºÂ·éƒ¨ç½²é™æ€ç½‘ç«™åˆ° GitHub Pages","description":"ä½¿ç”¨ GitHub Pages å¯ä»¥å¾ˆæ–¹ä¾¿çš„å°†é™æ€ç½‘ç«™éƒ¨ç½²åˆ°å…¬ç½‘ï¼ŒHugo ç”Ÿæˆçš„é™æ€åšå®¢ä¹ŸåŒæ ·é€‚ç”¨ã€‚ ä¸è¿‡ï¼Œæ¯æ¬¡éƒ½æ‰‹åŠ¨å°†ç½‘ç«™ä»£ç  push åˆ°è¿è¡Œ GitHub Pages çš„ä»“åº“ï¼Œè™½ç„¶æ“ä½œä¸éº»çƒ¦ä½†æœª","inLanguage":"zh-CN","author":"niceRAM","creator":"niceRAM","publisher":"niceRAM","accountablePerson":"niceRAM","copyrightHolder":"niceRAM","copyrightYear":"2021","datePublished":"2021-03-25 13:19:07 \u002b0800 \u002b0800","dateModified":"2021-03-25 13:19:07 \u002b0800 \u002b0800","url":"https:\/\/niceram.xyz\/2021\/03\/25\/20210325_1319\/","wordCount":"1758","keywords":["GitHub Actions","workflow","CI","é™æ€ç½‘ç«™","GitHub Pages","Hugo","NiceBlog"]}</script></head><body><div class=wrapper><nav class=navbar><progress class=content_progress max=0 value=0></progress><div class=container><div class="navbar-header header-back2home-logo"><span class=logo_mark>>$</span>
<a href=https://niceram.xyz/><span class=logo_text>cd /home/</span>
<span class=logo_cursor></span></a></div><div class=navbar-right><span class=menu><a class=menu-item href=/posts/ title>ğŸ“šBlog</a>
<a class=menu-item href=/categories/ title>ğŸ“‚Categories</a>
<a class=menu-item href=/tags/ title>ğŸ“ŒTags</a>
<a class=menu-item href=/about/ title>ğŸ’¬About</a>
<span class=divide></span><a href=javascript:void(0); class=theme-switch><i class="iconfont icon-dark-mode"></i></a></span></div></div></nav><nav class=navbar-mobile id=nav-mobile style=display:none><progress class=content_progress max=0 value=0></progress><div class=container><div class=navbar><div class="navbar-header header-logo"><a href=https://niceram.xyz/>NiceBlog</a></div><div class=navbar-right><div><a href=javascript:void(0); class=theme-switch><i class="iconfont icon-dark-mode"></i></a></div><div class=menu-toggle><span></span><span></span><span></span></div></div></div><div class=menu id=mobile-menu><nav class=mb-md><a class=menu-item href=/posts/ title><h3>ğŸ“šBlog</h3><div class=menu-active></div></a><a class=menu-item href=/categories/ title><h3>ğŸ“‚Categories</h3><div class=menu-active></div></a><a class=menu-item href=/tags/ title><h3>ğŸ“ŒTags</h3><div class=menu-active></div></a><a class=menu-item href=/about/ title><h3>ğŸ’¬About</h3><div class=menu-active></div></a></nav></div></div></nav><main class=main><div class=container><article class=post-warp itemscope itemtype=http://schema.org/Article><header class=post-header><h1 class=post-title itemprop="name headline">ä½¿ç”¨ GitHub Actions è‡ªåŠ¨æ„å»ºÂ·éƒ¨ç½²é™æ€ç½‘ç«™åˆ° GitHub Pages</h1><div class=post-meta>Written by <a itemprop=name href=https://niceram.xyz/ rel=author>niceRAM</a> with â™¥
<span class=post-time>on <time datetime=2021-03-25 itemprop=datePublished>March 25, 2021</time></span>
in
<i class="iconfont icon-folder"></i><span class=post-category><a href=https://niceram.xyz/categories/%E5%85%B3%E4%BA%8E%E6%88%91%E6%83%B3%E7%8E%A9%E5%8D%B4%E4%B8%8D%E4%B8%80%E5%AE%9A%E4%BC%9A%E7%8E%A9%E8%BF%98%E6%9C%89%E5%8F%AF%E8%83%BD%E7%8E%A9%E5%9D%8F%E5%8D%9A%E5%AE%A2%E8%BF%99%E4%BB%B6%E4%BA%8B/>å…³äºæˆ‘æƒ³ç©å´ä¸ä¸€å®šä¼šç©è¿˜æœ‰å¯èƒ½ç©ååšå®¢è¿™ä»¶äº‹,</a></span>
<span class=post-word-count>1758 words</span></div></header><div class=post-toc id=post-toc><h2 class=post-toc-title></h2><div class=post-toc-content><nav id=TableOfContents><ul><li><a href=#äº‹å‰å‡†å¤‡>äº‹å‰å‡†å¤‡</a><ul><li><a href=#ç¡®å®šåšå®¢æºç çš„è·å–æº>ç¡®å®šåšå®¢æºç çš„è·å–æº</a></li><li><a href=#ç¡®å®šæ„å»ºæ—¶æœº>ç¡®å®šæ„å»ºæ—¶æœº</a></li><li><a href=#åˆ›å»º-personal-access-tokens>åˆ›å»º Personal access tokens</a></li></ul></li><li><a href=#æ–°å»º-workflow>æ–°å»º workflow</a><ul><li><a href=#é€šè¿‡-github-ç½‘é¡µ>é€šè¿‡ GitHub ç½‘é¡µ</a></li><li><a href=#é€šè¿‡æœ¬åœ°æ‰‹åŠ¨åˆ›å»º>é€šè¿‡æœ¬åœ°æ‰‹åŠ¨åˆ›å»º</a></li></ul></li><li><a href=#ç¼–å†™é…ç½®æ–‡ä»¶>ç¼–å†™é…ç½®æ–‡ä»¶</a></li><li><a href=#æµ‹è¯•-workflow>æµ‹è¯• workflow</a></li></ul></nav></div></div><div class=post-content><p>ä½¿ç”¨ GitHub Pages å¯ä»¥å¾ˆæ–¹ä¾¿çš„å°†é™æ€ç½‘ç«™éƒ¨ç½²åˆ°å…¬ç½‘ï¼ŒHugo ç”Ÿæˆçš„é™æ€åšå®¢ä¹ŸåŒæ ·é€‚ç”¨ã€‚
ä¸è¿‡ï¼Œæ¯æ¬¡éƒ½æ‰‹åŠ¨å°†ç½‘ç«™ä»£ç  push åˆ°è¿è¡Œ GitHub Pages çš„ä»“åº“ï¼Œè™½ç„¶æ“ä½œä¸éº»çƒ¦ä½†æœªå…ä¹Ÿå¤ªé‡å¤æ¯ç‡¥ï¼Œ
è€Œé€šè¿‡ GitHub Actions å¯ä»¥æœ‰æ•ˆå‡å°‘é‡å¤å·¥ä½œï¼Œæé«˜å·¥ä½œæ•ˆç‡ã€‚</p><hr><h2 id=äº‹å‰å‡†å¤‡>äº‹å‰å‡†å¤‡</h2><p>é¦–å…ˆï¼Œæ˜ç¡®æˆ‘ä»¬çš„è‡ªåŠ¨åŒ–é€»è¾‘ï¼š</p><h3 id=ç¡®å®šåšå®¢æºç çš„è·å–æº>ç¡®å®šåšå®¢æºç çš„è·å–æº</h3><p>é¦–å…ˆè¦è®© GitHub Actions èƒ½å¤Ÿè·å–åšå®¢æºç ï¼Œä¹Ÿå°±æ˜¯ Markdown æ–‡ä»¶ï¼Œé€šå¸¸ç”¨ GitHub ä»“åº“å³å¯ã€‚</p><p>å¦å¤–ï¼Œæœ‰çš„åšä¸»ä¹Ÿè®¸å¹¶ä¸æƒ³ç›´æ¥æˆ–é—´æ¥åœ°æš´éœ² Markdown æºæ–‡ä»¶â€¦â€¦
è™½ç„¶æ²¡å°è¯•å¤ªå¤šï¼Œç†è®ºä¸Šï¼Œè·å–æºä¹Ÿå¯ä»¥æ˜¯å…¶ä»–å¹³å°çš„ä»£ç ä»“åº“ï¼Œç”šè‡³æ˜¯è‡ªå·±çš„ SFTP æœåŠ¡å™¨ã€‚
åªè¦ä½ æœ‰èƒ½å¤Ÿ<strong>å®‰å…¨</strong>è®¿é—®å®ƒçš„æ–¹å¼å³å¯ï¼Œè¿™é‡Œä¸ºäº†ç¨³å¦¥ï¼Œåªè®²æºç å­˜å‚¨åœ¨ GitHub ä»“åº“çš„æƒ…å†µã€‚</p><h3 id=ç¡®å®šæ„å»ºæ—¶æœº>ç¡®å®šæ„å»ºæ—¶æœº</h3><p>å¦‚æœè·å–æºæ˜¯ GitHub ä»“åº“ï¼Œé€šè¿‡ <code>push</code>, <code>pull_request</code> ç­‰æ“ä½œè§¦å‘æ„å»ºåˆ™ç›¸å½“å®¹æ˜“ã€‚</p><p>ä½†å¦‚æœæ˜¯å…¶ä»–å¹³å°çš„ä»“åº“æˆ–è€…SFTPï¼ŒGitHub Actions ä¹Ÿè®¸ä¸èƒ½å¤ŸåŠæ—¶æ•è·åˆ°æºç çš„å˜æ›´ï¼Œ
ä½†æ˜¯é€šè¿‡å®šæ—¶è¿è¡Œ Actions çš„æ–¹å¼ä¹Ÿå¯ä»¥åœ¨ä¸€å®šç¨‹åº¦ä¸Šåšåˆ°è‡ªåŠ¨åŒ–æ„å»ºÂ·éƒ¨ç½²ã€‚</p><p><em><strong>Note:</strong> å½“ç„¶ï¼Œä¹Ÿè®¸åˆ«çš„å¹³å°ä¹Ÿæ”¯æŒç±»ä¼¼ GitHub Actions ä¸€æ ·çš„åŠŸèƒ½ï¼Œé‚£ç›´æ¥åœ¨è¯¥å¹³å°åˆ›å»ºè‡ªåŠ¨åŒ–è„šæœ¬å³å¯ï¼Œæ¯”å¦‚ Huwwei Cloudã€‚</em></p><h3 id=åˆ›å»º-personal-access-tokens>åˆ›å»º Personal access tokens</h3><p>ä¸‹é¢çš„è„šæœ¬ä¸­æ¶‰åŠåˆ° commit, push æ“ä½œï¼Œéœ€è¦ GitHub ä»“åº“çš„è®¿é—®æƒé™ï¼Œ
ä¸ºäº†å°†ç›¸åº”çš„æƒé™å®‰å…¨åœ°èµ‹äºˆ GitHub Actionsï¼Œéœ€è¦ç”¨åˆ° Personal access tokensã€‚</p><p>é€‰æ‹©å³ä¸Šè§’å¤´åƒ - Settings - Developer settings - Personal access tokensï¼Œ
ç‚¹å‡» <code>Generate new token</code></p><p><img src=https://cdn.jsdelivr.net/gh/niceRAM/blog-images/img/20210325_1319/2021/03/25/16-24-20-372-c2a0c7.png alt></p><p>Note éšä¾¿å¡«ï¼Œè‡ªå·±èƒ½åˆ†æ¸…æ˜¯ä»€ä¹ˆå°±å¥½ã€‚
ç„¶åå‹¾é€‰ <code>workflow</code> å’Œ <code>admin:repo_hook</code>ï¼Œå‹¾é€‰ <code>workflow</code> ä¼šå¼ºåˆ¶å‹¾é€‰ <code>repo</code>ï¼Œ
æ‰€ä»¥æœ€ç»ˆåˆ›å»ºçš„ token å°†æ‹¥æœ‰ <code>repo</code>, <code>workflow</code> å’Œ <code>admin:repo_hook</code> æƒé™ã€‚</p><p><img src=https://cdn.jsdelivr.net/gh/niceRAM/blog-images/img/20210325_1319/2021/03/25/16-36-57-274-48ddda.png alt></p><h2 id=æ–°å»º-workflow>æ–°å»º workflow</h2><p><em><strong>Note:</strong> è‡³äºä¸ºä»€ä¹ˆè¿™é‡Œåå­—å˜æˆäº† workflowï¼Œæˆ‘ä¹Ÿä¸æ˜¯å¾ˆæ˜ç™½ã€‚</em></p><p><em>ä¸ªäººç†è§£æ˜¯ï¼š <code>GitHub Actions</code> åªæ˜¯ GitHub æä¾›çš„è¿™ä¸ªåŠŸèƒ½çš„åå­—ï¼›
è¿™ä¸ªåŠŸèƒ½ä¸­çœŸæ­£é…ç½®ã€è¿è¡Œçš„ä¸œè¥¿å«åš workflow(å·¥ä½œæµ)ï¼›
è€Œæ¯ä¸ª workflow ä¸­è¿è¡Œçš„å°±æ˜¯ç»å¸¸å¬åˆ°çš„ jobã€‚</em></p><p><em>æ„Ÿè§‰æœ‰ç‚¹åƒ activity æˆ–è€…è¯´æ˜¯ BPMN é¡¹ç›®çš„æ„æ€ã€‚</em></p><h3 id=é€šè¿‡-github-ç½‘é¡µ>é€šè¿‡ GitHub ç½‘é¡µ</h3><p>åœ¨ GitHub ä»“åº“é¡µé€‰æ‹© Actions æ ‡ç­¾ï¼Œç‚¹å‡» <code>set up a workflow yourself</code> æ–°å»º workflowã€‚</p><p><img src=https://cdn.jsdelivr.net/gh/niceRAM/blog-images/img/20210325_1319/2021/03/25/14-53-45-111-2d2f4c.png alt></p><h3 id=é€šè¿‡æœ¬åœ°æ‰‹åŠ¨åˆ›å»º>é€šè¿‡æœ¬åœ°æ‰‹åŠ¨åˆ›å»º</h3><p>workflow å…¶å®æ˜¯åœ¨å½“å‰ä»“åº“å½“å‰åˆ†æ”¯ä¸‹åˆ›å»º <code>.github/workflows/</code> ç›®å½•ï¼Œåœ¨è¯¥ç›®å½•ä¸‹åˆ›å»º <code>.yml</code> æ–‡ä»¶ï¼Œæ¯ä¸ª <code>.yml</code> æ–‡ä»¶å°±æ˜¯ä¸€ä¸ª workflow çš„é…ç½®æ–‡ä»¶ã€‚</p><p>Windows ä¸èƒ½ç›´æ¥åˆ›å»º <code>.</code> å¼€å¤´çš„ç›®å½•/æ–‡ä»¶ï¼Œå¯ä»¥å‚è€ƒä»¥ä¸‹å‘½ä»¤ï¼š</p><div class=highlight><pre class=chroma><code class=language-cmd data-lang=cmd><span class=ln>1</span><span class=k>cd</span> <span class=s2>&#34;&lt;path_to_blog&gt;&#34;</span>
<span class=ln>2</span><span class=k>mkdir</span> <span class=s2>&#34;.github\workflows&#34;</span>
<span class=ln>3</span><span class=k>echo</span> <span class=s2>&#34;&#34;</span> <span class=p>&gt;</span> <span class=s2>&#34;.github\workflows\main.yml&#34;</span>
</code></pre></div><h2 id=ç¼–å†™é…ç½®æ–‡ä»¶>ç¼–å†™é…ç½®æ–‡ä»¶</h2><p>ä»¥ä¸‹æ˜¯æ ¹æ®æˆ‘çš„ä»“åº“æ•´ç†çš„é…ç½®æ–‡ä»¶ï¼Œå¯ä»¥æŒ‰éœ€è¦ä¿®æ”¹ã€‚</p><p><strong>Note:</strong></p><ul><li>master åˆ†æ”¯è¿è¡Œç€ GitHub Pages</li><li>blog åˆ†æ”¯å­˜æ”¾ç€ markdown æ–‡ä»¶</li><li>blog åˆ†æ”¯çš„ <code>themes/nicesima</code> ç›®å½•æ˜¯ submoduleï¼Œé“¾æ¥åˆ° <code>niceRAM/nicesima</code> è¿™ä¸ªä»“åº“ã€‚</li></ul><div class=highlight><pre class=chroma><code class=language-yaml data-lang=yaml><span class=ln> 1</span><span class=c># workflow çš„åå­—</span><span class=w>
</span><span class=ln> 2</span><span class=w></span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Blog Build</span><span class=w>
</span><span class=ln> 3</span><span class=w>
</span><span class=ln> 4</span><span class=w></span><span class=c># è§¦å‘ workflow è¿è¡Œçš„äº‹ä»¶</span><span class=w>
</span><span class=ln> 5</span><span class=w></span><span class=nt>on</span><span class=p>:</span><span class=w>
</span><span class=ln> 6</span><span class=w>  </span><span class=c># æ‰§è¡Œ push æ—¶è§¦å‘</span><span class=w>
</span><span class=ln> 7</span><span class=w>  </span><span class=nt>push</span><span class=p>:</span><span class=w>
</span><span class=ln> 8</span><span class=w>    </span><span class=c># æŒ‡å®šå½“ blog åˆ†æ”¯è¢« push æ—¶æ‰è§¦å‘ã€‚å¯ä»¥æŒ‡å®šå¤šä¸ªåˆ†æ”¯ï¼Œå¯ä»¥çœç•¥ï¼Œé»˜è®¤ä¸º master</span><span class=w>
</span><span class=ln> 9</span><span class=w>    </span><span class=nt>branches</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=w> </span><span class=l>blog ]</span><span class=w>
</span><span class=ln>10</span><span class=w>  </span><span class=c># æ‰§è¡Œ pull_request æ—¶è§¦å‘</span><span class=w>
</span><span class=ln>11</span><span class=w>  </span><span class=nt>pull_request</span><span class=p>:</span><span class=w>
</span><span class=ln>12</span><span class=w>    </span><span class=c># æŒ‡å®šå½“ blog åˆ†æ”¯æ‰§è¡Œ pull_request æ—¶æ‰è§¦å‘ã€‚å¯ä»¥æŒ‡å®šå¤šä¸ªåˆ†æ”¯ï¼Œå¯ä»¥çœç•¥ï¼Œé»˜è®¤ä¸º master</span><span class=w>
</span><span class=ln>13</span><span class=w>    </span><span class=nt>branches</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=w> </span><span class=l>blog ]</span><span class=w>
</span><span class=ln>14</span><span class=w>
</span><span class=ln>15</span><span class=w>  </span><span class=c># çœ‹åŸæ³¨é‡Šçš„æ„æ€ï¼Œå¦‚æœå­˜åœ¨ workflow_dispatchï¼Œå½“å‰ workflow å…è®¸è¢«æ‰‹åŠ¨æ‰§è¡Œã€‚</span><span class=w>
</span><span class=ln>16</span><span class=w>  </span><span class=c># ä½†æ˜¯æˆ‘å°è¯•çš„æ—¶å€™ï¼Œå¦‚æœå­˜åœ¨è¿™ä¸ªè®¾ç½®ï¼Œä¸Šé¢é…ç½®çš„äº‹ä»¶å°†ä¸ä¼šè¢«è§¦å‘ï¼Œä¹Ÿå°±æ˜¯åªèƒ½æ‰‹åŠ¨æ‰§è¡Œã€‚</span><span class=w>
</span><span class=ln>17</span><span class=w>  </span><span class=c># workflow_dispatch:</span><span class=w>
</span><span class=ln>18</span><span class=w>
</span><span class=ln>19</span><span class=w></span><span class=c># ç¯å¢ƒå˜é‡</span><span class=w>
</span><span class=ln>20</span><span class=w></span><span class=nt>env</span><span class=p>:</span><span class=w>
</span><span class=ln>21</span><span class=w>  </span><span class=c># GitHub ç”¨æˆ·å</span><span class=w>
</span><span class=ln>22</span><span class=w>  </span><span class=nt>GH_USERNAME</span><span class=p>:</span><span class=w> </span><span class=l>your_github_id</span><span class=w>
</span><span class=ln>23</span><span class=w>  </span><span class=c># commit æ—¶ä½¿ç”¨çš„ Email</span><span class=w>
</span><span class=ln>24</span><span class=w>  </span><span class=nt>GH_EMAIL</span><span class=p>:</span><span class=w> </span><span class=l>your_email@email-server.com</span><span class=w>
</span><span class=ln>25</span><span class=w>  </span><span class=c># éƒ¨ç½² GitHub Pages çš„ä»“åº“ï¼Œæ ¼å¼ï¼šç”¨æˆ·å/ä»“åº“å</span><span class=w>
</span><span class=ln>26</span><span class=w>  </span><span class=nt>GH_REPO</span><span class=p>:</span><span class=w> </span><span class=l>your_github_id/your_markdown_github_repo</span><span class=w>
</span><span class=ln>27</span><span class=w>  </span><span class=c># éƒ¨ç½² GitHub Pages çš„ä»“åº“çš„åˆ†æ”¯å</span><span class=w>
</span><span class=ln>28</span><span class=w>  </span><span class=nt>GH_BRANCH</span><span class=p>:</span><span class=w> </span><span class=l>master</span><span class=w>
</span><span class=ln>29</span><span class=w>  
</span><span class=ln>30</span><span class=w></span><span class=c># ä¸€ä¸ª workflow ç”±è‡³å°‘ä¸€ä¸ª job ç»„æˆ</span><span class=w>
</span><span class=ln>31</span><span class=w></span><span class=nt>jobs</span><span class=p>:</span><span class=w>
</span><span class=ln>32</span><span class=w>  </span><span class=c># jobs çš„ç¬¬ä¸€ä¸ªå­é¡¹æ˜¯ job çš„åå­—  </span><span class=w>
</span><span class=ln>33</span><span class=w>  </span><span class=nt>build-deploy</span><span class=p>:</span><span class=w>
</span><span class=ln>34</span><span class=w>    </span><span class=c># è¯¥ job çš„å®¹å™¨ç¯å¢ƒ    </span><span class=w>
</span><span class=ln>35</span><span class=w>    </span><span class=nt>runs-on</span><span class=p>:</span><span class=w> </span><span class=l>ubuntu-latest</span><span class=w>
</span><span class=ln>36</span><span class=w>
</span><span class=ln>37</span><span class=w>    </span><span class=c># ä¸€ä¸ª job ç”±è‡³å°‘ä¸€ä¸ª step ç»„æˆï¼Œæ¯ä¸ª step ä»¥æ•°ç»„çš„å½¢å¼ä¾æ¬¡ç¼–å†™    </span><span class=w>
</span><span class=ln>38</span><span class=w>    </span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span><span class=ln>39</span><span class=w>      </span><span class=c># æ‹‰å– markdownï¼Œä¹Ÿå°±æ˜¯å½“å‰ä»“åº“çš„æºç </span><span class=w>
</span><span class=ln>40</span><span class=w>      </span>- <span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/checkout@v2</span><span class=w>
</span><span class=ln>41</span><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span><span class=ln>42</span><span class=w>          </span><span class=c># markdown æ‰€åœ¨åˆ†æ”¯æ˜¯ blog</span><span class=w>
</span><span class=ln>43</span><span class=w>          </span><span class=nt>ref</span><span class=p>:</span><span class=w> </span><span class=l>blog</span><span class=w>
</span><span class=ln>44</span><span class=w>          </span><span class=c># åŒæ—¶æ‹‰å– submoduleï¼Œå› ä¸ºè¦ç”¨åˆ°å¯¹åº”çš„ä¸»é¢˜</span><span class=w>
</span><span class=ln>45</span><span class=w>          </span><span class=nt>submodules</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=ln>46</span><span class=w>          </span><span class=nt>fetch-depth</span><span class=p>:</span><span class=w> </span><span class=m>1</span><span class=w>
</span><span class=ln>47</span><span class=w>
</span><span class=ln>48</span><span class=w>      </span><span class=c># å¼•ç”¨ jakejarvis/hugo-build-action æ„å»ºç½‘ç«™ä»£ç </span><span class=w>
</span><span class=ln>49</span><span class=w>      </span><span class=c># å½“ç„¶ä¹Ÿå¯ä»¥ç”¨å…¶ä»–çš„ Actions ç”šè‡³å¯ä»¥è‡ªå·±å†™ï¼Œåªæ˜¯ç”¨æ³•æœ‰ç‚¹åŒºåˆ«è€Œå·²ï¼Œæ€è·¯éƒ½å¤§åŒå°å¼‚</span><span class=w>
</span><span class=ln>50</span><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Hugo Build</span><span class=w>
</span><span class=ln>51</span><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>jakejarvis/hugo-build-action@v0.81.0</span><span class=w>
</span><span class=ln>52</span><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span><span class=ln>53</span><span class=w>          </span><span class=nt>args</span><span class=p>:</span><span class=w> </span>--<span class=l>minify</span><span class=w>
</span><span class=ln>54</span><span class=w>          
</span><span class=ln>55</span><span class=w>      </span><span class=c># å¼•ç”¨ peaceiris/actions-gh-pages å°†ç½‘ç«™ä»£ç  commit å¹¶ push åˆ° GitHub Pages ä»“åº“</span><span class=w>
</span><span class=ln>56</span><span class=w>      </span><span class=c># åŒä¸Šï¼Œä¹Ÿå¯ä»¥ç”¨å…¶ä»–çš„ Actionsï¼Œä¹Ÿå¯ä»¥å…¨éƒ¨è‡ªå·±å†™ã€‚</span><span class=w>
</span><span class=ln>57</span><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Deploy</span><span class=w>
</span><span class=ln>58</span><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>peaceiris/actions-gh-pages@v3</span><span class=w>
</span><span class=ln>59</span><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span><span class=ln>60</span><span class=w>          </span><span class=c># æŒ‡å®šå‰é¢å‡†å¤‡çš„ token</span><span class=w>
</span><span class=ln>61</span><span class=w>          </span><span class=nt>personal_token</span><span class=p>:</span><span class=w> </span><span class=l>${{ secrets.BLOG_DEPLOY_TOKEN }}</span><span class=w>
</span><span class=ln>62</span><span class=w>          </span><span class=nt>PUBLISH_BRANCH</span><span class=p>:</span><span class=w> </span><span class=l>master</span><span class=w>
</span><span class=ln>63</span><span class=w>          </span><span class=nt>PUBLISH_DIR</span><span class=p>:</span><span class=w> </span><span class=l>./public</span><span class=w>
</span><span class=ln>64</span><span class=w>          </span><span class=nt>commit_message</span><span class=p>:</span><span class=w> </span><span class=l>${{ github.event.head_commit.message }}</span><span class=w>
</span></code></pre></div><p>è‡³æ­¤ workflow å°±ç¼–å†™å®Œæˆäº†ï¼Œå¦‚æœæ˜¯åœ¨ç½‘é¡µç«¯ç¼–å†™ï¼Œæœ€ååˆ«å¿˜è®°ç‚¹ <code>Start commit</code> ä¿å­˜é…ç½®æ–‡ä»¶ã€‚</p><p>ä¸»è¦æ“ä½œåŸºæœ¬éƒ½åœ¨ steps é‡Œï¼Œè¯¦ç»†å¯ä»¥å‚è€ƒ <a href=https://docs.github.com/articles/configuring-workflows>å®˜æ–¹æ–‡æ¡£</a>ã€‚
åœ¨ç½‘é¡µç«¯ç¼–å†™æ—¶è¿˜å¯ä»¥åœ¨å³ä¾§çš„ Marketplace éšæ—¶æœç´¢éœ€è¦çš„ workflowã€‚</p><h2 id=æµ‹è¯•-workflow>æµ‹è¯• workflow</h2><p>ä¸Šä¼ ä¸€ç¯‡æ–‡ç« æˆ–éšä¾¿åšç‚¹æ›´æ–°å¹¶ pushï¼Œç°åœ¨æ‰“å¼€åˆšæ‰çš„ Actions æ ‡ç­¾ï¼Œä¸å‡ºæ„å¤–å°±å¯ä»¥çœ‹åˆ° <code>workflow runs</code>ï¼Œ
ä¹Ÿå°±æ˜¯ workflow çš„è¿è¡Œè®°å½•ã€‚</p><p>å¦‚æœ workflow è¿è¡Œå‡ºé”™ï¼ŒGitHub è¿˜ä¼šå‘é‚®ä»¶é€šçŸ¥ï¼Œæ‰€æœ‰ runs éƒ½å¯ä»¥æŸ¥çœ‹å®Œæ•´æ—¥å¿—å’Œ workflow é…ç½®æ–‡ä»¶ï¼Œ
å¯¹é—®é¢˜å®šä½æœ‰å¾ˆå¤§å¸®åŠ©ã€‚</p><div class=post-rel><h2 id=ç›¸å…³æ–‡ç« >ç›¸å…³æ–‡ç« </h2><ul><li><a href=https://niceram.xyz/2021/03/04/20210304_1125/>Hugo é™æ€åšå®¢é£Ÿç”¨æŒ‡å—</a></li><li><a href=https://niceram.xyz/2021/03/22/20210322_1451/>ä½¿ç”¨ GitHub Pages éƒ¨ç½²é™æ€åšå®¢</a></li></ul></div><div class=post-ref><h2 id=å‚è€ƒé“¾æ¥>å‚è€ƒé“¾æ¥</h2><ul><li><a href=https://docs.github.com/en/actions/learn-github-actions>Learn GitHub Actions - GitHub Docs</a></li><li><a href=https://github.com/marketplace/actions/checkout>Checkout Â· Actions Â· GitHub Marketplace</a></li><li><a href=https://github.com/marketplace/actions/hugo-build>Hugo Build Â· Actions Â· GitHub Marketplace</a></li><li><a href=https://github.com/marketplace/actions/github-pages-action>GitHub Pages action Â· Actions Â· GitHub Marketplace</a></li></ul></div></div><div class=post-copyright><p class=copyright-item><span>Author:</span>
<span>niceRAM</span></p><p class=copyright-item><span>Link:</span>
<a href=https://niceram.xyz/2021/03/25/20210325_1319/>https://niceram.xyz/2021/03/25/20210325_1319/</a></p><p class="copyright-item lincese">æœ¬æ–‡é‡‡ç”¨<a rel=license href=http://creativecommons.org/licenses/by-nc/4.0/ target=_blank>çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨ 4.0 å›½é™…è®¸å¯åè®®</a>è¿›è¡Œè®¸å¯</p></div><div class=post-tags><section><i class="iconfont icon-tag"></i>Tag(s):
<span class=tag><a href=https://niceram.xyz/tags/github-actions/>#GitHub Actions</a></span>
<span class=tag><a href=https://niceram.xyz/tags/workflow/>#workflow</a></span>
<span class=tag><a href=https://niceram.xyz/tags/ci/>#CI</a></span>
<span class=tag><a href=https://niceram.xyz/tags/%E9%9D%99%E6%80%81%E7%BD%91%E7%AB%99/>#é™æ€ç½‘ç«™</a></span>
<span class=tag><a href=https://niceram.xyz/tags/github-pages/>#GitHub Pages</a></span>
<span class=tag><a href=https://niceram.xyz/tags/hugo/>#Hugo</a></span></section><section><a href=javascript:window.history.back();>back</a></span> Â·
<span><a href=https://niceram.xyz/>home</a></span></section></div><div class=post-nav><a href=https://niceram.xyz/2021/03/22/20210322_1451/ class=prev rel=prev title="ä½¿ç”¨ GitHub Pages éƒ¨ç½²é™æ€åšå®¢"><i class="iconfont icon-left"></i>&nbsp;ä½¿ç”¨ GitHub Pages éƒ¨ç½²é™æ€åšå®¢</a>
<a href=https://niceram.xyz/2021/04/15/20210415_2157/ class=next rel=next title="Docker + Miniconda + VSCode Remote SSH åœ¨ Ubuntu æ­å»ºå¤šç‰ˆæœ¬å…±å­˜çš„ TensorFlow-GPU è¿œç¨‹å¼€å‘ç¯å¢ƒ">Docker + Miniconda + VSCode Remote SSH åœ¨ Ubuntu æ­å»ºå¤šç‰ˆæœ¬å…±å­˜çš„ TensorFlow-GPU è¿œç¨‹å¼€å‘ç¯å¢ƒ&nbsp;<i class="iconfont icon-right"></i></a></div><div class=post-social><div class=social-links><style type=text/css>@font-face{font-family:iconfont;src:url(//at.alicdn.com/t/font_1910062_4213q7gpkpy.eot);src:url(//at.alicdn.com/t/font_1910062_4213q7gpkpy.eot?#iefix)format('embedded-opentype'),url(//at.alicdn.com/t/font_1910062_4213q7gpkpy.woff2)format('woff2'),url(//at.alicdn.com/t/font_1910062_4213q7gpkpy.woff)format('woff'),url(//at.alicdn.com/t/font_1910062_4213q7gpkpy.ttf)format('truetype'),url(//at.alicdn.com/t/font_1910062_4213q7gpkpy.svg#iconfont)format('svg')}</style><a href="https://space.bilibili.com/10929768/channel/detail?cid=12977" target=_blank rel="me noopener"><i class="iconfont icon-bilibili"></i></a><a href=https://github.com/niceRAM target=_blank rel="me noopener"><i class="iconfont icon-github"></i></a><a href=https://twitter.com/niceRAM95 target=_blank rel="me noopener"><i class="iconfont icon-twitter"></i></a><a href=mailto:niceniceram@gmail.com rel="me noopener"><i class="iconfont icon-mail01"></i></a></div></div><div class=post-comment><div id=gitalk-container></div><link rel=stylesheet href=https://cdn.bootcss.com/gitalk/1.5.2/gitalk.css><script src=https://cdn.bootcss.com/gitalk/1.5.2/gitalk.min.js></script><script>const gitalk=new Gitalk({clientID:'e2ac76297f1e7ec232f9',clientSecret:'4385d32dd8c6ab5f97856bbe2e04a1e05a237276',repo:'blog-comments',owner:'niceRAM',admin:['niceRAM'],proxy:'https://cors-anywhere-niceblog.herokuapp.com/https://github.com/login/oauth/access_token',id:location.pathname,distractionFreeMode:!1});(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById('gitalk-container').innerHTML='Gitalk comments not available by default when the website is previewed locally.';return}gitalk.render('gitalk-container')})()</script></div></article></div></main><footer class=footer><div class=copyright>&copy;
<span itemprop=copyrightYear>2018 - 2021</span>
<span class=rotating>ğŸŒ¸</span>
<span class=author itemprop=copyrightHolder><a href=https://niceram.xyz/>niceRAM</a> |</span>
<span>Powered by <a href=https://gohugo.io/ target=_blank rel="external nofollow">Hugo</a> & <a href=https://github.com/niceRAM/nicesima target=_blank rel="external nofollow">nicesima</a></span></div></footer><script src=https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js crossorigin=anonymous></script><script defer src=/js/vendor_main.min.js></script><script src=https://cdn.jsdelivr.net/npm/pangu@4.0.7/dist/browser/pangu.min.js integrity="sha256-j+yj56cdEY2CwkVtGyz18fNybFGpMGJ8JxG3GSyO2+I=" crossorigin=anonymous></script><script>pangu.spacingPage()</script></div></body></html>